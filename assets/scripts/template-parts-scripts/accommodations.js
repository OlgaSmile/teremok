jQuery(document).ready((function(e){const i=e(".accommodations-section"),a=e(".accommodations-main");e(i).each((function(i){const o=e(this),t=o.find(e(".mphb_sc_rooms-wrapper > .mphb-room-type")),n=o.attr("id");e(t).each((function(i){const o=e(this);if(!o.hasClass(`mphb_room_type_category-${n}`))return void o.remove();const t=o.find(e(".mphb-room-type-view>.mphb-attribute-value")).detach(),d=o.find(e(".mphb-room-type-title")).addClass("container").detach(),s=o.find(e(".gallery-size-thumbnail")).detach(),p=o.find(e(".mphb-room-type-images")).find(e(".gallery-item img")),r=p.clone(),c=e("<div class='swiper accommodations-single__gallery'></div>"),l=e("<div class='swiper-wrapper accommodations-single__gallery--wrapper'></div>");e(p).each((function(){$item=e(this);const a=e(`<div class='swiper-slide swiper-slide${i+2} accommodations-single__gallery--slide'></div>`);e("#gallery-1").remove(),a.append($item),l.append(a),a.on("click",(function(){e("body").attr("style","overflow:hidden"),document.addEventListener("keydown",f),e(`#sliderModal${i+2}`)[0].showModal()}))})),c.append(l),c.append(sliderNavigation),o.append(modalTemplate(i+2)),o.find(e(".inner_swiper")).addClass("accommodations-inner_swiper"),o.find(e(".modal-slider-wrapper")).addClass("accommodations-modal-slider-wrapper");const m=a.find(e(".modal-slider-wrapper>.swiper-wrapper")),w=a.find(e(".modal-slider-wrapper> .inner_swiper> .inner_swiper-wrapper"));e(r).each((function(){const i=e(this),a=i.clone(),o=e("<div class='swiper-slide modal-swiper-slide'></div>");o.append(i),m.append(o);const t=e('<div class="swiper-slide inner_swiper-slide"></div>');t.append(a),w.append(t)})),e(`.accommodations-main .swiper-slide${i+2}`).on("click",(function(){e(`#sliderModal${i+2}`)[0].showModal()}));const f=e=>{"Escape"===e.code&&(document.body.style.overflow="",document.removeEventListener("keydown",f))},h=()=>{document.body.style.overflow="",document.removeEventListener("keydown",f)},b=document.querySelector(`#sliderModal${i+2}_close-button`);b&&b.addEventListener("click",h);o.find(e(".accommodations-inner_swiper")).addClass(`accommodations-inner_swiper-${i}`);const u=window.innerWidth,v=(new Swiper(".accommodations-modal-slider-wrapper",{slidesPerView:1,spaceBetween:10,loop:!0,simulateTouch:!0,allowTouchMove:!0,effect:(u<576?"creative":"slide")||"slide",lazy:{loadOnTransitionStart:!0,loadPrevNext:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{0:{grabCursor:!0,creativeEffect:{prev:{shadow:!0,translate:["-20%",0,-1]},next:{translate:["100%",0,0]}}},576:{initialSlide:1,spaceBetween:0,centeredSlides:!0,slidesPerView:"auto",grabCursor:!1,speed:1e3,keyboard:{enabled:!0,onlyInViewport:!0}}}}),o.find(e("p:first-of-type")).detach()),y=o.find(e(".mphb-regular-price > span.mphb-price")).detach(),_=o.find(".mphb-view-details-button-wrapper").detach(),g=o.find(".mphb-to-book-btn-wrapper").detach(),C=o.find(e(".mphb-loop-room-type-attributes>.mphb-room-type-facilities")).find(".mphb-attribute-value").children(),$=o.find(e(".mphb-price-period")).text().split(" ").filter((e=>Number(e)))[0],x=e("<div></div>").addClass("accommodations_roomCard"),k=e("<ul></ul>").addClass("accommodations_facilities-list container"),E=e("<li></li>").addClass("accommodations_facilities-item"),N=e("<div></div>").addClass("accommodations_actions-wrapper container"),L=e("<p></p>").addClass("accommodations_desc container"),M=y.text().split(""),I=M.splice(1,M.length).join("").replace(",",""),S=Number(I)/Number($||1),T=`${new Intl.NumberFormat(void 0).format(S)} грн доба`,P=o.find(e(".mphb-room-type-bed-type>.mphb-attribute-value")).text(),V=o.find(e(".mphb-loop-room-type-attributes > .mphb-room-type-total-capacity>.mphb-attribute-value")).text().trim(),j=badCountText(V,P);E.append(e(`<span>${guestIconItem}</span>`).addClass("accommodations_facilities-icon")),k.append(E.append(j)),C.map(((i,a)=>{const o=a.children[0].text,t=a.className,n=t.includes("kitchen"),d=e("<li></li>").addClass(`accommodations_facilities-item ${n?"facility-kitchen":t}`);iconsList[o]?d.append(e(`<span>${iconsList[o]}</span>`).addClass("accommodations_facilities-icon")):d.append(e(`<span>${getFacilitiesRandomIcon()}</span>`).addClass("accommodations_facilities-icon")),d.append(o),k.append(d)}));const z=e("<div></div>").addClass("accommodations_kitchen container");o.find(".mphb-regular-price").remove(),o.find(".mphb-loop-room-type-attributes").remove(),z.append(t),N.append(g),N.append(_.find("a")),L.append(v.text()),x.append(d),x.append(y.text(T)),x.append(L),x.append(c),x.append(s),x.append(e("<div class='accommodations_facilities-list_wrapper container'>").append(k)),x.append(N),o.append(x)}))})),e(".accommodations").css("display","flex")}));