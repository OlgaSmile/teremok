jQuery(document).ready((function(e){const i=e(".accommodations-section"),a=e(".accommodations-main");e(i).each((function(i){const o=e(this),n=o.find(e(".mphb_sc_rooms-wrapper > .mphb-room-type")),t=o.attr("id");e(n).each((function(i){const o=e(this);if(!o.hasClass(`mphb_room_type_category-${t}`))return void o.remove();const n=o.find(e(".mphb-room-type-view>.mphb-attribute-value")).detach(),d=o.find(e(".mphb-room-type-title")).addClass("container").detach(),s=o.find(e(".gallery-size-thumbnail")).detach(),p=o.find(e(".mphb-room-type-images")).find(e(".gallery-item img")),r=p.clone(),c=e("<div class='swiper accommodations-single__gallery'></div>"),l=e("<div class='swiper-wrapper accommodations-single__gallery--wrapper'></div>");e(p).each((function(){$item=e(this);const a=e(`<div class='swiper-slide swiper-slide${i+2} accommodations-single__gallery--slide'></div>`);e("#gallery-1").remove(),a.append($item),l.append(a),a.on("click",(function(){e("body").attr("style","overflow:hidden"),document.addEventListener("keydown",h),e(`#sliderModal${i+2}`)[0].showModal()}))})),c.append(l),c.append(sliderNavigation),o.append(modalTemplate(i+2)),o.find(e(".inner_swiper")).addClass("accommodations-inner_swiper"),o.find(e(".modal-slider-wrapper")).addClass("accommodations-modal-slider-wrapper");const m=a.find(e(".modal-slider-wrapper>.swiper-wrapper")),w=a.find(e(".modal-slider-wrapper> .inner_swiper> .inner_swiper-wrapper"));e(r).each((function(){const i=e(this),a=i.clone(),o=e("<div class='swiper-slide modal-swiper-slide'></div>");o.append(i),m.append(o);const n=e('<div class="swiper-slide inner_swiper-slide"></div>');n.append(a),w.append(n)})),e(`.accommodations-main .swiper-slide${i+2}`).on("click",(function(){e(`#sliderModal${i+2}`)[0].showModal()}));const h=e=>{"Escape"===e.code&&(document.body.style.overflow="",document.removeEventListener("keydown",h))},u=()=>{document.body.style.overflow="",document.removeEventListener("keydown",h)},b=document.querySelector(`#sliderModal${i+2}_close-button`);b&&b.addEventListener("click",u);o.find(e(".accommodations-inner_swiper")).addClass(`accommodations-inner_swiper-${i}`);const f=new Swiper(`.accommodations-inner_swiper-${i}`,{spaceBetween:10,slidesPerView:"auto",freeMode:!0,watchSlidesProgress:!0,navigation:{nextEl:".swiper-button-next_in",prevEl:".swiper-button-prev_in"}}),v=(new Swiper(".accommodations-modal-slider-wrapper",{slidesPerView:1,spaceBetween:"auto",speed:500,loop:!0,lazy:{loadOnTransitionStart:!0,loadPrevNext:!0},thumbs:{swiper:f},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{576:{initialSlide:1,spaceBetween:0,centeredSlides:!0,slidesPerView:"auto"}}}),o.find(e("p:first-of-type")).detach()),y=o.find(e(".mphb-regular-price > span.mphb-price")).detach(),_=o.find(".mphb-view-details-button-wrapper").detach(),g=o.find(".mphb-to-book-btn-wrapper").detach(),C=o.find(e(".mphb-loop-room-type-attributes>.mphb-room-type-facilities")).find(".mphb-attribute-value").children(),$=o.find(e(".mphb-price-period")).text().split(" ").filter((e=>Number(e)))[0],x=e("<div></div>").addClass("accommodations_roomCard"),k=e("<ul></ul>").addClass("accommodations_facilities-list container"),E=e("<li></li>").addClass("accommodations_facilities-item"),N=e("<div></div>").addClass("accommodations_actions-wrapper container"),S=e("<p></p>").addClass("accommodations_desc container"),L=y.text().split(""),M=L.splice(1,L.length).join("").replace(",",""),P=Number(M)/Number($||1),I=`${new Intl.NumberFormat(void 0).format(P)} грн доба`,B=o.find(e(".mphb-room-type-bed-type>.mphb-attribute-value")).text(),T=o.find(e(".mphb-loop-room-type-attributes > .mphb-room-type-total-capacity>.mphb-attribute-value")).text().trim(),V=badCountText(T,B);E.append(e(`<span>${guestIconItem}</span>`).addClass("accommodations_facilities-icon")),k.append(E.append(V)),C.map(((i,a)=>{const o=a.children[0].text,n=a.className,t=n.includes("kitchen"),d=e("<li></li>").addClass(`accommodations_facilities-item ${t?"facility-kitchen":n}`);iconsList[o]?d.append(e(`<span>${iconsList[o]}</span>`).addClass("accommodations_facilities-icon")):d.append(e(`<span>${getFacilitiesRandomIcon()}</span>`).addClass("accommodations_facilities-icon")),d.append(o),k.append(d)}));const j=e("<div></div>").addClass("accommodations_kitchen container");o.find(".mphb-regular-price").remove(),o.find(".mphb-loop-room-type-attributes").remove(),j.append(n),N.append(g),N.append(_.find("a")),S.append(v.text()),x.append(d),x.append(y.text(I)),x.append(S),x.append(c),x.append(s),x.append(e("<div class='accommodations_facilities-list_wrapper container'>").append(k)),x.append(N),o.append(x)}))})),e(".accommodations").css("display","flex")}));