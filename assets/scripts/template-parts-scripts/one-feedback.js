function extractNumbersFromString(e){const t=e.match(/\d+/g);return t?Number(t[0]):null}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".rate-js").forEach((e=>{const t=+e.dataset.num;for(let s=1;s<=t;s+=1)e.insertAdjacentHTML("beforeend",'<span class="onefeedback__star">&#9733;</span>')}))})),function(e){let t,s,i,o;function n(o){e(`#modal-${o.id}`).addClass("active-modal-image "),i=o.id;const n=e(o).attr("image-id"),r=e(`#swiper-bottom-${o.id}`),a=e(`#swiper-top-${o.id}`);if(r.length>0&&a.length>0){r.addClass("swiper-reviews-bottom"),a.addClass("swiper-reviews-top");const n=e(".swiper-reviews-bottom"),c=e(".swiper-reviews-top");n&&c&&((d=o.id)||i===d)&&(t=new Swiper(".swiper-reviews-bottom",{spaceBetween:3,slidesPerView:5,freeMode:!0,watchSlidesProgress:!0}),s=new Swiper(".swiper-reviews-top",{spaceBetween:10,loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},thumbs:{swiper:t},keyboard:{enabled:!0,onlyInViewport:!0}}))}var d;s.slideTo(n-1)}function r(){const t=e(`#swiper-bottom-${i}`),s=e(`#swiper-top-${i}`);t.removeClass("swiper-reviews-bottom"),s.removeClass("swiper-reviews-top"),e(`#modal-${i}`).removeClass("active-modal-image "),document.body.classList.remove("overflow-hidden"),e(".swiper-reviews-bottom").each((function(){this.swiper&&this.swiper.destroy()})),e(".swiper-reviews-top").each((function(){this.swiper&&this.swiper.destroy()}))}e(".img-thumbnail").on("click",(function(e){document.body.classList.add("overflow-hidden"),n(this)})),e(".close-modal").on("click",(function(e){r()})),e(".modal-swiper-backdrop").on("click",(function(e){e.target===e.currentTarget&&(console.log("click"),r())})),e(document).on("keydown",(function(t){e(".active-modal-image")&&"Escape"===t.key&&r()})),e(".reviews-btn-watch-more").on("click",(function(t){const s=e(this).attr("data-target"),i=e(`#desc-${s}`);s&&(i.hasClass("reviews-text-hidden")?(i.removeClass("reviews-text-hidden").addClass("active-text"),e(`#btn-${s}`).addClass("btn-active-watch-more"),e(`#btn-${s}`).addClass("spin-fade"),o=e(`#btn-${s} > span`).text(),e(`#btn-${s} > span`).text("Згорнути")):(i.removeClass("active-text").addClass("reviews-text-hidden"),e(`#btn-${s}`).removeClass("spin-fade"),e(`#btn-${s}`).removeClass("btn-active-watch-more"),e(`#btn-${s} > span`).text(o)))})),e(window).on("resize load",(function(){const t=e(".reviews-section__description"),s=e(window).width();t.each(((t,i)=>{const o=e(i),n=o.data("lines")||s<=575.98?5:7,r=parseFloat(o.css("line-height"))*n;if(o[0].scrollHeight>r){const t=extractNumbersFromString(o[0].id);e(`#btn-wrapper-${t}`).addClass("visable")}}))}))}(window.jQuery);